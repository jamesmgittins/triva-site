import{S as Ae,i as Qe,s as Te,k as Q,q as w,a as N,l as T,m as S,r as $,h as m,c as D,n as V,b as g,H as d,u as L,d as P,f as C,g as A,G as I,y as W,z as O,A as G,B as j,I as K,e as Z,v as B,K as Y,J as ge,p as x}from"../chunks/index.7efe732c.js";import{S as z,g as ee,a as U}from"../chunks/triviaapi.f628b2ab.js";import{s as te,b as le,g as Se,d as se,q as J,c as oe,w as Pe,a as Ve,t as Ne,e as De,f as He}from"../chunks/stores.ca7412b8.js";import{g as Ie,s as Le}from"../chunks/savedata.f10b81c6.js";const Me=!0,re=Me,Ye=n=>{for(let e=n.length-1;e>0;e--){const l=Math.floor(Math.random()*(e+1));[n[e],n[l]]=[n[l],n[e]]}},ne=n=>{const e=n.toLowerCase();return n.charAt(0).toUpperCase()+e.slice(1)};function ie(n,e,l){const s=n.slice();return s[31]=e[l],s[33]=l,s}function fe(n,e,l){const s=n.slice();return s[28]=e[l],s}function Ce(n){let e,l,s,t,f,c,p,r=n[0],o=[];for(let a=0;a<r.length;a+=1)o[a]=ae(ie(n,r,a));const u=a=>P(o[a],1,1,()=>{o[a]=null});return{c(){e=Q("p"),l=w("Once you select a question you will have "),s=w(n[12]),t=w(" seconds to answer it"),f=N(),c=Q("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=T(a,"P",{class:!0});var i=S(e);l=$(i,"Once you select a question you will have "),s=$(i,n[12]),t=$(i," seconds to answer it"),i.forEach(m),f=D(a),c=T(a,"DIV",{class:!0});var _=S(c);for(let h=0;h<o.length;h+=1)o[h].l(_);_.forEach(m),this.h()},h(){V(e,"class","mt-10 mb-5"),V(c,"class","grid grid-cols-1 sm:grid-cols-2 gap-1")},m(a,i){g(a,e,i),d(e,l),d(e,s),d(e,t),g(a,f,i),g(a,c,i);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(c,null);p=!0},p(a,i){if((!p||i[0]&4096)&&L(s,a[12]),i[0]&1089793){r=a[0];let _;for(_=0;_<r.length;_+=1){const h=ie(a,r,_);o[_]?(o[_].p(h,i),A(o[_],1)):(o[_]=ae(h),o[_].c(),A(o[_],1),o[_].m(c,null))}for(B(),_=r.length;_<o.length;_+=1)u(_);C()}},i(a){if(!p){for(let i=0;i<r.length;i+=1)A(o[i]);p=!0}},o(a){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)P(o[i]);p=!1},d(a){a&&m(e),a&&m(f),a&&m(c),ge(o,a)}}}function Be(n){let e,l=n[1].question+"",s,t,f,c,p,r=!n[3]&&!n[4]&&_e(n),o=n[2],u=[];for(let i=0;i<o.length;i+=1)u[i]=pe(fe(n,o,i));const a=i=>P(u[i],1,1,()=>{u[i]=null});return{c(){e=Q("h5"),s=w(l),t=N(),r&&r.c(),f=N(),c=Q("div");for(let i=0;i<u.length;i+=1)u[i].c();this.h()},l(i){e=T(i,"H5",{class:!0});var _=S(e);s=$(_,l),_.forEach(m),t=D(i),r&&r.l(i),f=D(i),c=T(i,"DIV",{class:!0});var h=S(c);for(let y=0;y<u.length;y+=1)u[y].l(h);h.forEach(m),this.h()},h(){V(e,"class","mt-10 mb-5 text-xl p-8 inline-block bg-indigo-500 clear-both rounded text-white"),V(c,"class","grid grid-cols-1 sm:grid-cols-2 gap-1")},m(i,_){g(i,e,_),d(e,s),g(i,t,_),r&&r.m(i,_),g(i,f,_),g(i,c,_);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,null);p=!0},p(i,_){if((!p||_[0]&2)&&l!==(l=i[1].question+"")&&L(s,l),!i[3]&&!i[4]?r?r.p(i,_):(r=_e(i),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null),_[0]&16452){o=i[2];let h;for(h=0;h<o.length;h+=1){const y=fe(i,o,h);u[h]?(u[h].p(y,_),A(u[h],1)):(u[h]=pe(y),u[h].c(),A(u[h],1),u[h].m(c,null))}for(B(),h=o.length;h<u.length;h+=1)a(h);C()}},i(i){if(!p){for(let _=0;_<o.length;_+=1)A(u[_]);p=!0}},o(i){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)P(u[_]);p=!1},d(i){i&&m(e),i&&m(t),r&&r.d(i),i&&m(f),i&&m(c),ge(u,i)}}}function ue(n){let e,l=n[31].category+"",s;return{c(){e=Q("span"),s=w(l)},l(t){e=T(t,"SPAN",{});var f=S(e);s=$(f,l),f.forEach(m)},m(t,f){g(t,e,f),d(e,s)},p(t,f){f[0]&1&&l!==(l=t[31].category+"")&&L(s,l)},d(t){t&&m(e)}}}function ce(n){let e,l=n[20](n[31])+"",s;return{c(){e=Q("p"),s=w(l)},l(t){e=T(t,"P",{});var f=S(e);s=$(f,l),f.forEach(m)},m(t,f){g(t,e,f),d(e,s)},p(t,f){f[0]&1&&l!==(l=t[20](t[31])+"")&&L(s,l)},d(t){t&&m(e)}}}function We(n){let e,l,s=n[33]+1+"",t,f,c,p,r=n[13]&&ue(n),o=n[8]>0&&ce(n);return{c(){e=Q("p"),l=w("Q "),t=w(s),f=N(),r&&r.c(),c=N(),o&&o.c(),p=N()},l(u){e=T(u,"P",{});var a=S(e);l=$(a,"Q "),t=$(a,s),f=D(a),r&&r.l(a),a.forEach(m),c=D(u),o&&o.l(u),p=D(u)},m(u,a){g(u,e,a),d(e,l),d(e,t),d(e,f),r&&r.m(e,null),g(u,c,a),o&&o.m(u,a),g(u,p,a)},p(u,a){u[13]?r?r.p(u,a):(r=ue(u),r.c(),r.m(e,null)):r&&(r.d(1),r=null),u[8]>0?o?o.p(u,a):(o=ce(u),o.c(),o.m(p.parentNode,p)):o&&(o.d(1),o=null)},d(u){u&&m(e),r&&r.d(),u&&m(c),o&&o.d(u),u&&m(p)}}}function ae(n){let e,l;function s(){return n[22](n[31])}return e=new z({props:{onclick:s,$$slots:{default:[We]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,f){G(e,t,f),l=!0},p(t,f){n=t;const c={};f[0]&1&&(c.onclick=s),f[0]&8449|f[1]&8&&(c.$$scope={dirty:f,ctx:n}),e.$set(c)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function _e(n){let e,l,s;return{c(){e=Q("div"),l=Q("div"),s=Q("div"),this.h()},l(t){e=T(t,"DIV",{class:!0});var f=S(e);l=T(f,"DIV",{class:!0});var c=S(l);s=T(c,"DIV",{id:!0,class:!0,style:!0}),S(s).forEach(m),c.forEach(m),f.forEach(m),this.h()},h(){V(s,"id","progress-bar"),V(s,"class","h-5 bg-orange-400 svelte-1w1ug4o"),x(s,"animation-duration",n[12]+"s"),V(l,"class","mb-6 h-5 w-full bg-neutral-200 dark:bg-neutral-600"),V(e,"class","bg-black")},m(t,f){g(t,e,f),d(e,l),d(l,s)},p(t,f){f[0]&4096&&x(s,"animation-duration",t[12]+"s")},d(t){t&&m(e)}}}function Oe(n){let e,l=n[28]+"",s;return{c(){e=Q("p"),s=w(l)},l(t){e=T(t,"P",{});var f=S(e);s=$(f,l),f.forEach(m)},m(t,f){g(t,e,f),d(e,s)},p(t,f){f[0]&4&&l!==(l=t[28]+"")&&L(s,l)},d(t){t&&m(e)}}}function pe(n){let e,l;function s(){return n[21](n[28])}return e=new z({props:{onclick:s,active:n[28]==n[6],$$slots:{default:[Oe]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,f){G(e,t,f),l=!0},p(t,f){n=t;const c={};f[0]&4&&(c.onclick=s),f[0]&68&&(c.active=n[28]==n[6]),f[0]&4|f[1]&8&&(c.$$scope={dirty:f,ctx:n}),e.$set(c)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function me(n){let e,l,s=n[19]()+"",t,f,c,p;return c=new z({props:{onclick:n[16],$$slots:{default:[Ge]},$$scope:{ctx:n}}}),{c(){e=Q("h4"),l=w("Correct! "),t=w(s),f=N(),W(c.$$.fragment),this.h()},l(r){e=T(r,"H4",{class:!0});var o=S(e);l=$(o,"Correct! "),t=$(o,s),o.forEach(m),f=D(r),O(c.$$.fragment,r),this.h()},h(){V(e,"class","m-5 font-bold bg-green-800 mx-auto p-4 text-xl rounded")},m(r,o){g(r,e,o),d(e,l),d(e,t),g(r,f,o),G(c,r,o),p=!0},p(r,o){const u={};o[1]&8&&(u.$$scope={dirty:o,ctx:r}),c.$set(u)},i(r){p||(A(c.$$.fragment,r),p=!0)},o(r){P(c.$$.fragment,r),p=!1},d(r){r&&m(e),r&&m(f),j(c,r)}}}function Ge(n){let e,l;return{c(){e=Q("p"),l=w("Next Question")},l(s){e=T(s,"P",{});var t=S(e);l=$(t,"Next Question"),t.forEach(m)},m(s,t){g(s,e,t),d(e,l)},p:K,d(s){s&&m(e)}}}function he(n){let e,l,s,t,f,c,p=n[4]&&be(),r=n[5]&&de();const o=[ze,je],u=[];function a(i,_){return i[10]>0?0:1}return s=a(n),t=u[s]=o[s](n),{c(){p&&p.c(),e=N(),r&&r.c(),l=N(),t.c(),f=Z()},l(i){p&&p.l(i),e=D(i),r&&r.l(i),l=D(i),t.l(i),f=Z()},m(i,_){p&&p.m(i,_),g(i,e,_),r&&r.m(i,_),g(i,l,_),u[s].m(i,_),g(i,f,_),c=!0},p(i,_){i[4]?p||(p=be(),p.c(),p.m(e.parentNode,e)):p&&(p.d(1),p=null),i[5]?r||(r=de(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null);let h=s;s=a(i),s===h?u[s].p(i,_):(B(),P(u[h],1,1,()=>{u[h]=null}),C(),t=u[s],t?t.p(i,_):(t=u[s]=o[s](i),t.c()),A(t,1),t.m(f.parentNode,f))},i(i){c||(A(t),c=!0)},o(i){P(t),c=!1},d(i){p&&p.d(i),i&&m(e),r&&r.d(i),i&&m(l),u[s].d(i),i&&m(f)}}}function be(n){let e,l;return{c(){e=Q("h4"),l=w("That was the wrong answer!"),this.h()},l(s){e=T(s,"H4",{class:!0});var t=S(e);l=$(t,"That was the wrong answer!"),t.forEach(m),this.h()},h(){V(e,"class","m-5 font-bold bg-red-800 mx-auto p-4 text-xl rounded")},m(s,t){g(s,e,t),d(e,l)},d(s){s&&m(e)}}}function de(n){let e,l;return{c(){e=Q("h4"),l=w("You ran out of time!"),this.h()},l(s){e=T(s,"H4",{class:!0});var t=S(e);l=$(t,"You ran out of time!"),t.forEach(m),this.h()},h(){V(e,"class","m-5 font-bold bg-red-800 mx-auto p-4 text-xl rounded")},m(s,t){g(s,e,t),d(e,l)},d(s){s&&m(e)}}}function je(n){let e,l,s,t,f=n[9]-1+"",c,p,r;return e=new z({props:{onclick:n[18],$$slots:{default:[Re]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment),l=N(),s=Q("p"),t=w("You answered "),c=w(f),p=w(" questions correctly"),this.h()},l(o){O(e.$$.fragment,o),l=D(o),s=T(o,"P",{class:!0});var u=S(s);t=$(u,"You answered "),c=$(u,f),p=$(u," questions correctly"),u.forEach(m),this.h()},h(){V(s,"class","m-4")},m(o,u){G(e,o,u),g(o,l,u),g(o,s,u),d(s,t),d(s,c),d(s,p),r=!0},p(o,u){const a={};u[1]&8&&(a.$$scope={dirty:u,ctx:o}),e.$set(a),(!r||u[0]&512)&&f!==(f=o[9]-1+"")&&L(c,f)},i(o){r||(A(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){j(e,o),o&&m(l),o&&m(s)}}}function ze(n){let e,l,s,t,f,c,p;return c=new z({props:{onclick:n[17],$$slots:{default:[Ue]},$$scope:{ctx:n}}}),{c(){e=Q("p"),l=w("You have "),s=w(n[10]),t=w(" lives remaining"),f=N(),W(c.$$.fragment),this.h()},l(r){e=T(r,"P",{class:!0});var o=S(e);l=$(o,"You have "),s=$(o,n[10]),t=$(o," lives remaining"),o.forEach(m),f=D(r),O(c.$$.fragment,r),this.h()},h(){V(e,"class","m-4")},m(r,o){g(r,e,o),d(e,l),d(e,s),d(e,t),g(r,f,o),G(c,r,o),p=!0},p(r,o){(!p||o[0]&1024)&&L(s,r[10]);const u={};o[1]&8&&(u.$$scope={dirty:o,ctx:r}),c.$set(u)},i(r){p||(A(c.$$.fragment,r),p=!0)},o(r){P(c.$$.fragment,r),p=!1},d(r){r&&m(e),r&&m(f),j(c,r)}}}function Re(n){let e,l;return{c(){e=Q("p"),l=w("Game over")},l(s){e=T(s,"P",{});var t=S(e);l=$(t,"Game over"),t.forEach(m)},m(s,t){g(s,e,t),d(e,l)},p:K,d(s){s&&m(e)}}}function Ue(n){let e,l;return{c(){e=Q("p"),l=w("Try again")},l(s){e=T(s,"P",{});var t=S(e);l=$(t,"Try again"),t.forEach(m)},m(s,t){g(s,e,t),d(e,l)},p:K,d(s){s&&m(e)}}}function Je(n){let e,l,s,t,f,c=ne(n[11])+"",p,r,o,u,a,i,_;const h=[Be,Ce],y=[];function M(k,q){return k[7]?0:1}o=M(n),u=y[o]=h[o](n);let E=n[3]&&me(n),v=(n[4]||n[5])&&he(n);return{c(){e=Q("div"),l=Q("h1"),s=w("Question "),t=w(n[9]),f=w(" - "),p=w(c),r=N(),u.c(),a=N(),E&&E.c(),i=N(),v&&v.c(),this.h()},l(k){e=T(k,"DIV",{class:!0});var q=S(e);l=T(q,"H1",{class:!0});var H=S(l);s=$(H,"Question "),t=$(H,n[9]),f=$(H," - "),p=$(H,c),H.forEach(m),r=D(q),u.l(q),a=D(q),E&&E.l(q),i=D(q),v&&v.l(q),q.forEach(m),this.h()},h(){V(l,"class","text-4xl font-bold mt-5"),V(e,"class","text-center")},m(k,q){g(k,e,q),d(e,l),d(l,s),d(l,t),d(l,f),d(l,p),d(e,r),y[o].m(e,null),d(e,a),E&&E.m(e,null),d(e,i),v&&v.m(e,null),_=!0},p(k,q){(!_||q[0]&512)&&L(t,k[9]),(!_||q[0]&2048)&&c!==(c=ne(k[11])+"")&&L(p,c);let H=o;o=M(k),o===H?y[o].p(k,q):(B(),P(y[H],1,1,()=>{y[H]=null}),C(),u=y[o],u?u.p(k,q):(u=y[o]=h[o](k),u.c()),A(u,1),u.m(e,a)),k[3]?E?(E.p(k,q),q[0]&8&&A(E,1)):(E=me(k),E.c(),A(E,1),E.m(e,i)):E&&(B(),P(E,1,1,()=>{E=null}),C()),k[4]||k[5]?v?(v.p(k,q),q[0]&48&&A(v,1)):(v=he(k),v.c(),A(v,1),v.m(e,null)):v&&(B(),P(v,1,1,()=>{v=null}),C())},i(k){_||(A(u),A(E),A(v),_=!0)},o(k){P(u),P(E),P(v),_=!1},d(k){k&&m(e),y[o].d(),E&&E.d(),v&&v.d()}}}function Ke(n,e,l){let s,t,f,c,p,r,o,u,a,i,_;I(n,Pe,b=>l(8,t=b)),I(n,le,b=>l(9,f=b)),I(n,J,b=>l(0,c=b)),I(n,oe,b=>l(10,p=b)),I(n,Ve,b=>l(24,r=b)),I(n,se,b=>l(11,o=b)),I(n,Ne,b=>l(12,u=b)),I(n,te,b=>l(1,a=b)),I(n,De,b=>l(25,i=b)),I(n,He,b=>l(13,_=b));let h=[],y=!1,M=!1,E=!1,v,k="",q=Math.max(...Ie().highScores.map(b=>b.score));const H=()=>{l(3,y=!1),l(4,M=!1),l(5,E=!1)};c.length===0&&re&&U("../");const F=b=>{y||M||E||(v&&clearTimeout(v),l(6,k=b),a.correctAnswer===b?l(3,y=!0):l(4,M=!0))},X=b=>{Y(te,a=b,a),l(2,h=[]),h.push(a.correctAnswer),i>Math.random()?(h.push(a.incorrectAnswers[0]),h.push(a.incorrectAnswers[1])):h.push(...a.incorrectAnswers),Ye(h),v&&clearTimeout(v),v=setTimeout(()=>{!M&&!y&&l(5,E=!0)},u*1e3)},ve=()=>{if(v&&clearTimeout(v),f%3==0&&re){U("../reward/");return}Y(le,f=f+1,f),Y(se,o=Se(f),o),ee(o,r).then(b=>{H(),Y(J,c=b,c)})},ke=()=>{ee(o,r).then(b=>{Y(oe,p=p-1,p),H(),Y(J,c=b,c)})},we=()=>{H(),Le(f-1),U("..")},$e=()=>f>q?"A new record!":f===q?"You have equalled your record!":q-f+" more to beat your record.",Ee=b=>{let R=b.question.split(" ");return R=R.splice(0,Math.min(R.length,t)),R.join(" ")},qe=b=>F(b),ye=b=>X(b);return n.$$.update=()=>{n.$$.dirty[0]&3&&l(7,s=a&&c.length>0&&c.filter(b=>b.id===a.id).length!==0)},[c,a,h,y,M,E,k,s,t,f,p,o,u,_,F,X,ve,ke,we,$e,Ee,qe,ye]}class et extends Ae{constructor(e){super(),Qe(this,e,Ke,Je,Te,{},null,[-1,-1])}}export{et as default};
