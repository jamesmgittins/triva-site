import{S as qe,i as Se,s as Pe,k as q,q as k,a as V,l as S,m as P,r as w,h,c as D,n as Q,b as d,H as v,u as C,d as T,f as Y,g as N,G as L,y as W,z as j,A as O,B as G,I as U,e as x,v as B,K as M,J as ve,p as ee}from"../chunks/index.7efe732c.js";import{S as z,g as te,a as K}from"../chunks/triviaapi.074652b3.js";import{s as le,b as se,g as Ne,d as oe,q as F,c as re,w as Qe,a as Te,t as Ve,e as De,f as He}from"../chunks/stores.ca7412b8.js";import{g as Le,s as Ce}from"../chunks/savedata.f10b81c6.js";const Ie=!0,ne=Ie,Me=n=>{for(let e=n.length-1;e>0;e--){const l=Math.floor(Math.random()*(e+1));[n[e],n[l]]=[n[l],n[e]]}},ie=n=>{const e=n.toLowerCase();return n.charAt(0).toUpperCase()+e.slice(1)};function fe(n,e,l){const s=n.slice();return s[32]=e[l],s[31]=l,s}function ue(n,e,l){const s=n.slice();return s[29]=e[l],s[31]=l,s}function Ye(n){let e,l,s,t,f,c,p,i=n[0],o=[];for(let _=0;_<i.length;_+=1)o[_]=ae(fe(n,i,_));const a=_=>T(o[_],1,1,()=>{o[_]=null});return{c(){e=q("p"),l=k("Once you select a question you will have "),s=k(n[12]),t=k(" seconds to answer it"),f=V(),c=q("div");for(let _=0;_<o.length;_+=1)o[_].c();this.h()},l(_){e=S(_,"P",{class:!0});var r=P(e);l=w(r,"Once you select a question you will have "),s=w(r,n[12]),t=w(r," seconds to answer it"),r.forEach(h),f=D(_),c=S(_,"DIV",{class:!0});var u=P(c);for(let m=0;m<o.length;m+=1)o[m].l(u);u.forEach(h),this.h()},h(){Q(e,"class","mt-10 mb-5"),Q(c,"class","grid grid-cols-1 sm:grid-cols-2 gap-1")},m(_,r){d(_,e,r),v(e,l),v(e,s),v(e,t),d(_,f,r),d(_,c,r);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(c,null);p=!0},p(_,r){if((!p||r[0]&4096)&&C(s,_[12]),r[0]&2171137){i=_[0];let u;for(u=0;u<i.length;u+=1){const m=fe(_,i,u);o[u]?(o[u].p(m,r),N(o[u],1)):(o[u]=ae(m),o[u].c(),N(o[u],1),o[u].m(c,null))}for(B(),u=i.length;u<o.length;u+=1)a(u);Y()}},i(_){if(!p){for(let r=0;r<i.length;r+=1)N(o[r]);p=!0}},o(_){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)T(o[r]);p=!1},d(_){_&&h(e),_&&h(f),_&&h(c),ve(o,_)}}}function Be(n){let e,l=n[1].question+"",s,t,f,c,p,i=!n[3]&&!n[4]&&_e(n),o=n[2],a=[];for(let r=0;r<o.length;r+=1)a[r]=pe(ue(n,o,r));const _=r=>T(a[r],1,1,()=>{a[r]=null});return{c(){e=q("h5"),s=k(l),t=V(),i&&i.c(),f=V(),c=q("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=S(r,"H5",{class:!0});var u=P(e);s=w(u,l),u.forEach(h),t=D(r),i&&i.l(r),f=D(r),c=S(r,"DIV",{class:!0});var m=P(c);for(let y=0;y<a.length;y+=1)a[y].l(m);m.forEach(h),this.h()},h(){Q(e,"class","mt-10 mb-5 text-xl p-8 inline-block bg-indigo-500 clear-both rounded text-white"),Q(c,"class","grid grid-cols-1 sm:grid-cols-2 gap-1")},m(r,u){d(r,e,u),v(e,s),d(r,t,u),i&&i.m(r,u),d(r,f,u),d(r,c,u);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(c,null);p=!0},p(r,u){if((!p||u[0]&2)&&l!==(l=r[1].question+"")&&C(s,l),!r[3]&&!r[4]?i?i.p(r,u):(i=_e(r),i.c(),i.m(f.parentNode,f)):i&&(i.d(1),i=null),u[0]&49220){o=r[2];let m;for(m=0;m<o.length;m+=1){const y=ue(r,o,m);a[m]?(a[m].p(y,u),N(a[m],1)):(a[m]=pe(y),a[m].c(),N(a[m],1),a[m].m(c,null))}for(B(),m=o.length;m<a.length;m+=1)_(m);Y()}},i(r){if(!p){for(let u=0;u<o.length;u+=1)N(a[u]);p=!0}},o(r){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)T(a[u]);p=!1},d(r){r&&h(e),r&&h(t),i&&i.d(r),r&&h(f),r&&h(c),ve(a,r)}}}function We(n){let e,l;return{c(){e=q("span"),l=k("???")},l(s){e=S(s,"SPAN",{});var t=P(e);l=w(t,"???"),t.forEach(h)},m(s,t){d(s,e,t),v(e,l)},p:U,d(s){s&&h(e)}}}function je(n){let e,l=n[32].category+"",s;return{c(){e=q("span"),s=k(l)},l(t){e=S(t,"SPAN",{});var f=P(e);s=w(f,l),f.forEach(h)},m(t,f){d(t,e,f),v(e,s)},p(t,f){f[0]&1&&l!==(l=t[32].category+"")&&C(s,l)},d(t){t&&h(e)}}}function ce(n){let e,l=n[21](n[32])+"",s;return{c(){e=q("p"),s=k(l)},l(t){e=S(t,"P",{});var f=P(e);s=w(f,l),f.forEach(h)},m(t,f){d(t,e,f),v(e,s)},p(t,f){f[0]&1&&l!==(l=t[21](t[32])+"")&&C(s,l)},d(t){t&&h(e)}}}function Oe(n){let e,l,s=n[31]+1+"",t,f,c,p,i;function o(u,m){return u[13]?je:We}let a=o(n),_=a(n),r=n[8]>0&&ce(n);return{c(){e=q("span"),l=k("Q"),t=k(s),f=V(),c=q("p"),_.c(),p=V(),r&&r.c(),i=V(),this.h()},l(u){e=S(u,"SPAN",{class:!0});var m=P(e);l=w(m,"Q"),t=w(m,s),m.forEach(h),f=D(u),c=S(u,"P",{class:!0});var y=P(c);_.l(y),y.forEach(h),p=D(u),r&&r.l(u),i=D(u),this.h()},h(){Q(e,"class","left-0 top-0 absolute mr-2 bg-indigo-600 h-full p-2 rounded-l flex items-center justify-center"),Q(c,"class","pl-4")},m(u,m){d(u,e,m),v(e,l),v(e,t),d(u,f,m),d(u,c,m),_.m(c,null),d(u,p,m),r&&r.m(u,m),d(u,i,m)},p(u,m){a===(a=o(u))&&_?_.p(u,m):(_.d(1),_=a(u),_&&(_.c(),_.m(c,null))),u[8]>0?r?r.p(u,m):(r=ce(u),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(u){u&&h(e),u&&h(f),u&&h(c),_.d(),u&&h(p),r&&r.d(u),u&&h(i)}}}function ae(n){let e,l;function s(){return n[23](n[32])}return e=new z({props:{onclick:s,$$slots:{default:[Oe]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,f){O(e,t,f),l=!0},p(t,f){n=t;const c={};f[0]&1&&(c.onclick=s),f[0]&8449|f[1]&8&&(c.$$scope={dirty:f,ctx:n}),e.$set(c)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function _e(n){let e,l,s;return{c(){e=q("div"),l=q("div"),s=q("div"),this.h()},l(t){e=S(t,"DIV",{class:!0});var f=P(e);l=S(f,"DIV",{class:!0});var c=P(l);s=S(c,"DIV",{id:!0,class:!0,style:!0}),P(s).forEach(h),c.forEach(h),f.forEach(h),this.h()},h(){Q(s,"id","progress-bar"),Q(s,"class","h-5 bg-orange-400 svelte-1w1ug4o"),ee(s,"animation-duration",n[12]+"s"),Q(l,"class","mb-6 h-5 w-full bg-neutral-200 dark:bg-neutral-600"),Q(e,"class","bg-black")},m(t,f){d(t,e,f),v(e,l),v(l,s)},p(t,f){f[0]&4096&&ee(s,"animation-duration",t[12]+"s")},d(t){t&&h(e)}}}function Ge(n){let e,l=n[14][n[31]]+"",s,t,f,c=n[29]+"",p,i;return{c(){e=q("span"),s=k(l),t=V(),f=q("p"),p=k(c),i=V(),this.h()},l(o){e=S(o,"SPAN",{class:!0});var a=P(e);s=w(a,l),a.forEach(h),t=D(o),f=S(o,"P",{class:!0});var _=P(f);p=w(_,c),_.forEach(h),i=D(o),this.h()},h(){Q(e,"class","left-0 top-0 absolute mr-2 bg-indigo-600 h-full p-2 rounded-l flex items-center justify-center"),Q(f,"class","pl-4")},m(o,a){d(o,e,a),v(e,s),d(o,t,a),d(o,f,a),v(f,p),d(o,i,a)},p(o,a){a[0]&4&&c!==(c=o[29]+"")&&C(p,c)},d(o){o&&h(e),o&&h(t),o&&h(f),o&&h(i)}}}function pe(n){let e,l;function s(){return n[22](n[29])}return e=new z({props:{onclick:s,active:n[29]==n[6],$$slots:{default:[Ge]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,f){O(e,t,f),l=!0},p(t,f){n=t;const c={};f[0]&4&&(c.onclick=s),f[0]&68&&(c.active=n[29]==n[6]),f[0]&4|f[1]&8&&(c.$$scope={dirty:f,ctx:n}),e.$set(c)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function me(n){let e,l,s=n[20]()+"",t,f,c,p;return c=new z({props:{onclick:n[17],$$slots:{default:[ze]},$$scope:{ctx:n}}}),{c(){e=q("h4"),l=k("Correct! "),t=k(s),f=V(),W(c.$$.fragment),this.h()},l(i){e=S(i,"H4",{class:!0});var o=P(e);l=w(o,"Correct! "),t=w(o,s),o.forEach(h),f=D(i),j(c.$$.fragment,i),this.h()},h(){Q(e,"class","m-5 font-bold bg-green-800 mx-auto p-4 text-xl rounded")},m(i,o){d(i,e,o),v(e,l),v(e,t),d(i,f,o),O(c,i,o),p=!0},p(i,o){const a={};o[1]&8&&(a.$$scope={dirty:o,ctx:i}),c.$set(a)},i(i){p||(N(c.$$.fragment,i),p=!0)},o(i){T(c.$$.fragment,i),p=!1},d(i){i&&h(e),i&&h(f),G(c,i)}}}function ze(n){let e,l;return{c(){e=q("p"),l=k("Next Question")},l(s){e=S(s,"P",{});var t=P(e);l=w(t,"Next Question"),t.forEach(h)},m(s,t){d(s,e,t),v(e,l)},p:U,d(s){s&&h(e)}}}function he(n){let e,l,s,t,f,c,p=n[4]&&be(),i=n[5]&&de();const o=[Ue,Re],a=[];function _(r,u){return r[10]>0?0:1}return s=_(n),t=a[s]=o[s](n),{c(){p&&p.c(),e=V(),i&&i.c(),l=V(),t.c(),f=x()},l(r){p&&p.l(r),e=D(r),i&&i.l(r),l=D(r),t.l(r),f=x()},m(r,u){p&&p.m(r,u),d(r,e,u),i&&i.m(r,u),d(r,l,u),a[s].m(r,u),d(r,f,u),c=!0},p(r,u){r[4]?p||(p=be(),p.c(),p.m(e.parentNode,e)):p&&(p.d(1),p=null),r[5]?i||(i=de(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null);let m=s;s=_(r),s===m?a[s].p(r,u):(B(),T(a[m],1,1,()=>{a[m]=null}),Y(),t=a[s],t?t.p(r,u):(t=a[s]=o[s](r),t.c()),N(t,1),t.m(f.parentNode,f))},i(r){c||(N(t),c=!0)},o(r){T(t),c=!1},d(r){p&&p.d(r),r&&h(e),i&&i.d(r),r&&h(l),a[s].d(r),r&&h(f)}}}function be(n){let e,l;return{c(){e=q("h4"),l=k("That was the wrong answer!"),this.h()},l(s){e=S(s,"H4",{class:!0});var t=P(e);l=w(t,"That was the wrong answer!"),t.forEach(h),this.h()},h(){Q(e,"class","m-5 font-bold bg-red-800 mx-auto p-4 text-xl rounded")},m(s,t){d(s,e,t),v(e,l)},d(s){s&&h(e)}}}function de(n){let e,l;return{c(){e=q("h4"),l=k("You ran out of time!"),this.h()},l(s){e=S(s,"H4",{class:!0});var t=P(e);l=w(t,"You ran out of time!"),t.forEach(h),this.h()},h(){Q(e,"class","m-5 font-bold bg-red-800 mx-auto p-4 text-xl rounded")},m(s,t){d(s,e,t),v(e,l)},d(s){s&&h(e)}}}function Re(n){let e,l,s,t,f=n[9]-1+"",c,p,i;return e=new z({props:{onclick:n[19],$$slots:{default:[Je]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment),l=V(),s=q("p"),t=k("You answered "),c=k(f),p=k(" questions correctly"),this.h()},l(o){j(e.$$.fragment,o),l=D(o),s=S(o,"P",{class:!0});var a=P(s);t=w(a,"You answered "),c=w(a,f),p=w(a," questions correctly"),a.forEach(h),this.h()},h(){Q(s,"class","m-4")},m(o,a){O(e,o,a),d(o,l,a),d(o,s,a),v(s,t),v(s,c),v(s,p),i=!0},p(o,a){const _={};a[1]&8&&(_.$$scope={dirty:a,ctx:o}),e.$set(_),(!i||a[0]&512)&&f!==(f=o[9]-1+"")&&C(c,f)},i(o){i||(N(e.$$.fragment,o),i=!0)},o(o){T(e.$$.fragment,o),i=!1},d(o){G(e,o),o&&h(l),o&&h(s)}}}function Ue(n){let e,l,s,t,f,c,p;return c=new z({props:{onclick:n[18],$$slots:{default:[Ke]},$$scope:{ctx:n}}}),{c(){e=q("p"),l=k("You have "),s=k(n[10]),t=k(" lives remaining"),f=V(),W(c.$$.fragment),this.h()},l(i){e=S(i,"P",{class:!0});var o=P(e);l=w(o,"You have "),s=w(o,n[10]),t=w(o," lives remaining"),o.forEach(h),f=D(i),j(c.$$.fragment,i),this.h()},h(){Q(e,"class","m-4")},m(i,o){d(i,e,o),v(e,l),v(e,s),v(e,t),d(i,f,o),O(c,i,o),p=!0},p(i,o){(!p||o[0]&1024)&&C(s,i[10]);const a={};o[1]&8&&(a.$$scope={dirty:o,ctx:i}),c.$set(a)},i(i){p||(N(c.$$.fragment,i),p=!0)},o(i){T(c.$$.fragment,i),p=!1},d(i){i&&h(e),i&&h(f),G(c,i)}}}function Je(n){let e,l;return{c(){e=q("p"),l=k("Game over")},l(s){e=S(s,"P",{});var t=P(e);l=w(t,"Game over"),t.forEach(h)},m(s,t){d(s,e,t),v(e,l)},p:U,d(s){s&&h(e)}}}function Ke(n){let e,l;return{c(){e=q("p"),l=k("Try again")},l(s){e=S(s,"P",{});var t=P(e);l=w(t,"Try again"),t.forEach(h)},m(s,t){d(s,e,t),v(e,l)},p:U,d(s){s&&h(e)}}}function Fe(n){let e,l,s,t,f,c=ie(n[11])+"",p,i,o,a,_,r,u;const m=[Be,Ye],y=[];function I($,A){return $[7]?0:1}o=I(n),a=y[o]=m[o](n);let E=n[3]&&me(n),g=(n[4]||n[5])&&he(n);return{c(){e=q("div"),l=q("h1"),s=k("Question "),t=k(n[9]),f=k(" - "),p=k(c),i=V(),a.c(),_=V(),E&&E.c(),r=V(),g&&g.c(),this.h()},l($){e=S($,"DIV",{class:!0});var A=P(e);l=S(A,"H1",{class:!0});var H=P(l);s=w(H,"Question "),t=w(H,n[9]),f=w(H," - "),p=w(H,c),H.forEach(h),i=D(A),a.l(A),_=D(A),E&&E.l(A),r=D(A),g&&g.l(A),A.forEach(h),this.h()},h(){Q(l,"class","text-4xl font-bold"),Q(e,"class","text-center")},m($,A){d($,e,A),v(e,l),v(l,s),v(l,t),v(l,f),v(l,p),v(e,i),y[o].m(e,null),v(e,_),E&&E.m(e,null),v(e,r),g&&g.m(e,null),u=!0},p($,A){(!u||A[0]&512)&&C(t,$[9]),(!u||A[0]&2048)&&c!==(c=ie($[11])+"")&&C(p,c);let H=o;o=I($),o===H?y[o].p($,A):(B(),T(y[H],1,1,()=>{y[H]=null}),Y(),a=y[o],a?a.p($,A):(a=y[o]=m[o]($),a.c()),N(a,1),a.m(e,_)),$[3]?E?(E.p($,A),A[0]&8&&N(E,1)):(E=me($),E.c(),N(E,1),E.m(e,r)):E&&(B(),T(E,1,1,()=>{E=null}),Y()),$[4]||$[5]?g?(g.p($,A),A[0]&48&&N(g,1)):(g=he($),g.c(),N(g,1),g.m(e,null)):g&&(B(),T(g,1,1,()=>{g=null}),Y())},i($){u||(N(a),N(E),N(g),u=!0)},o($){T(a),T(E),T(g),u=!1},d($){$&&h(e),y[o].d(),E&&E.d(),g&&g.d()}}}function Xe(n,e,l){let s,t,f,c,p,i,o,a,_,r,u;L(n,Qe,b=>l(8,t=b)),L(n,se,b=>l(9,f=b)),L(n,F,b=>l(0,c=b)),L(n,re,b=>l(10,p=b)),L(n,Te,b=>l(25,i=b)),L(n,oe,b=>l(11,o=b)),L(n,Ve,b=>l(12,a=b)),L(n,le,b=>l(1,_=b)),L(n,De,b=>l(26,r=b)),L(n,He,b=>l(13,u=b));let m=[],y=!1,I=!1,E=!1,g,$="",A=Math.max(...Le().highScores.map(b=>b.score));const H=["A","B","C","D"],J=()=>{l(3,y=!1),l(4,I=!1),l(5,E=!1)};c.length===0&&ne&&K("../");const X=b=>{y||I||E||(g&&clearTimeout(g),l(6,$=b),_.correctAnswer===b?l(3,y=!0):l(4,I=!0))},Z=b=>{M(le,_=b,_),l(2,m=[]),m.push(_.correctAnswer),r>Math.random()?(m.push(_.incorrectAnswers[0]),m.push(_.incorrectAnswers[1])):m.push(..._.incorrectAnswers),Me(m),g&&clearTimeout(g),g=setTimeout(()=>{!I&&!y&&l(5,E=!0)},a*1e3)},ge=()=>{if(g&&clearTimeout(g),f%3==0&&ne){K("../reward/");return}M(se,f=f+1,f),M(oe,o=Ne(f),o),te(o,i).then(b=>{J(),M(F,c=b,c)})},ke=()=>{te(o,i).then(b=>{M(re,p=p-1,p),J(),M(F,c=b,c)})},we=()=>{J(),Ce(f-1),K("..")},$e=()=>f>A?"A new record!":f===A?"You have equalled your record!":A-f+" more to beat your record.",Ee=b=>{let R=b.question.split(" ");return R=R.splice(0,Math.min(R.length,t)),R.join(" ")},ye=b=>X(b),Ae=b=>Z(b);return n.$$.update=()=>{n.$$.dirty[0]&3&&l(7,s=_&&c.length>0&&c.filter(b=>b.id===_.id).length!==0)},[c,_,m,y,I,E,$,s,t,f,p,o,a,u,H,X,Z,ge,ke,we,$e,Ee,ye,Ae]}class lt extends qe{constructor(e){super(),Se(this,e,Xe,Fe,Pe,{},null,[-1,-1])}}export{lt as default};
